<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLIMAX | Elite Men's Bracelets</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>

    <style>
        :root { --gold: #D4AF37; --black: #080808; }
        body { background-color: var(--black); color: white; font-family: 'Montserrat', sans-serif; scroll-behavior: smooth; }
        .luxury-font { font-family: 'Cinzel', serif; }
        .gold-text { color: var(--gold); }
        .gold-bg { background-color: var(--gold); }
        .product-card { background: #111; border: 1px solid #1a1a1a; transition: 0.3s ease; cursor: pointer; }
        .product-card:hover { border-color: var(--gold); transform: translateY(-5px); }
        #cartSidebar { transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .cart-open { transform: translateX(0) !important; }
        .hidden { display: none; }
        input, textarea, select { border-radius: 4px !important; background-color: #000 !important; border: 1px solid #27272a !important; color: #fff !important; }
    </style>
</head>
<body class="overflow-x-hidden">

    <nav class="p-5 flex justify-between items-center border-b border-zinc-900 sticky top-0 bg-black/90 backdrop-blur-md z-50 px-6 md:px-12">
        <h1 class="luxury-font text-2xl font-bold tracking-[0.3em] gold-text cursor-pointer" onclick="location.reload()">CLIMAX</h1>
        <button onclick="toggleCart()" class="relative p-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="gold-text"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>
            <span id="cartCount" class="absolute -top-1 -right-1 bg-white text-black text-[10px] font-bold px-1.5 rounded-full">0</span>
        </button>
    </nav>

    <section id="collection" class="py-20 px-6 max-w-7xl mx-auto">
        <h3 class="luxury-font text-2xl text-center mb-16 tracking-[0.5em] gold-text uppercase">The Signature Series</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8" id="productGrid"></div>
    </section>

    <footer class="bg-zinc-950 border-t border-zinc-900 pt-20 pb-10 px-8">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-16 mb-16">
            <div>
                <h4 class="luxury-font gold-text text-xl mb-6 uppercase">Climax</h4>
                <p class="text-zinc-500 text-sm leading-relaxed mb-6">Premium natural stones and timeless craftsmanship.</p>
                <a href="https://instagram.com/YOUR_INSTAGRAM_HANDLE" target="_blank" class="text-xs gold-text tracking-widest hover:underline uppercase flex items-center gap-2">
                    Follow us on Instagram
                </a>
            </div>
            <div>
                <h4 class="text-xs font-bold uppercase tracking-widest mb-6">Contact</h4>
                <p class="text-zinc-500 text-sm">Free Express Shipping across India.</p>
            </div>
        </div>
    </footer>

    <div id="productPage" class="fixed inset-0 bg-black z-[60] hidden overflow-y-auto">
        <div class="max-w-6xl mx-auto p-6 lg:py-20">
            <button onclick="closeProductPage()" class="mb-10 text-zinc-500 uppercase text-[10px] tracking-widest">← Back</button>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 pb-32">
                <img id="mainImg" src="" class="w-full aspect-square object-cover rounded border border-zinc-900 shadow-2xl">
                <div>
                    <h2 id="pName" class="luxury-font text-4xl mb-2 gold-text"></h2>
                    <p id="pPrice" class="text-2xl font-bold mb-6"></p>
                    <div class="border-t border-zinc-800 pt-6">
                        <h4 class="text-xs font-bold uppercase gold-text mb-4">Product Story</h4>
                        <p id="pDesc" class="text-zinc-400 text-sm leading-relaxed mb-8"></p>
                        <button onclick="addCurrentToCart()" class="w-full gold-bg text-black font-bold py-4 uppercase text-xs tracking-widest">Add to Cart</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="cartSidebar" class="fixed top-0 right-0 w-full md:w-[400px] h-full bg-zinc-950 z-[100] translate-x-full p-6 flex flex-col">
        <div class="flex justify-between items-center border-b border-zinc-900 pb-4 mb-6">
            <h3 class="luxury-font text-xl gold-text uppercase">Cart</h3>
            <button onclick="toggleCart()" class="text-zinc-500 text-2xl">&times;</button>
        </div>
        <div id="cartItems" class="flex-1 overflow-y-auto space-y-4"></div>
        <div class="pt-6 border-t border-zinc-900">
            <div class="flex justify-between mb-6 text-xl uppercase font-bold"><span>Total</span><span id="cartTotal" class="gold-text">₹0</span></div>
            <button onclick="openCheckout()" class="w-full gold-bg text-black font-bold py-5 uppercase text-xs">Proceed to Shipping</button>
        </div>
    </div>

    <div id="checkoutModal" class="fixed inset-0 bg-black/95 z-[200] hidden flex items-center justify-center p-4 overflow-y-auto">
        <div class="bg-zinc-900 w-full max-w-2xl p-6 rounded border border-zinc-800 shadow-2xl">
            <div id="step1Content">
                <div id="checkoutItemsList" class="mb-6"></div>
                <button type="button" onclick="nextStep(2)" class="w-full gold-bg text-black font-bold py-4 uppercase text-xs">Proceed to Address</button>
            </div>

            <div id="step2Content" class="hidden space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <input type="text" id="custName" placeholder="Name" class="p-3">
                    <input type="tel" id="custPhone" placeholder="10-digit mobile number" class="p-3">
                    <input type="text" id="custPincode" placeholder="Pincode" class="p-3">
                    <input type="text" id="custLocality" placeholder="Locality" class="p-3">
                    <textarea id="custAddress" placeholder="Address (Area and Street)" class="p-3 h-24 md:col-span-2"></textarea>
                    <input type="text" id="custCity" placeholder="City/District/Town" class="p-3">
                    <select id="custState" class="p-3 text-zinc-400">
                        <option value="">--Select State--</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Delhi">Delhi</option>
                        <option value="Karnataka">Karnataka</option>
                    </select>
                    <input type="text" id="custLandmark" placeholder="Landmark (Optional)" class="p-3">
                    <input type="tel" id="custAltPhone" placeholder="Alternate Phone (Optional)" class="p-3">
                </div>
                <button type="button" onclick="submitOrder()" id="finalBtn" class="w-full gold-bg text-black font-bold py-4 uppercase text-xs">Confirm Order</button>
            </div>
        </div>
    </div>

    <script>
        // CONFIG FROM YOUR SCREENSHOT
        const firebaseConfig = {
            apiKey: "AIzaSyD4B88SlR4aXarruyfenpQG2_ttw1ZjuHQ",
            authDomain: "climax-fbf10.firebaseapp.com",
            projectId: "climax-fbf10",
            storageBucket: "climax-fbf10.firebasestorage.app",
            messagingSenderId: "273590231780",
            appId: "1:273590231780:web:87ddd68084e4db648c42f1",
            databaseURL: "https://climax-fbf10-default-rtdb.firebaseio.com"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        const products = [
            { id: 1, name: 'Midnight Onyx', price: 399, img: 'https://images.unsplash.com/photo-1611591437281-460bfbe1220a?w=600', desc: 'Matte black natural stones for a bold, masculine look.' },
            { id: 2, name: 'Tiger Eye', price: 449, img: 'https://images.unsplash.com/photo-1611085583191-a3b1a60d3011?w=600', desc: 'Golden shimmer stones for success and courage.' },
            { id: 3, name: 'Lava Rock', price: 349, img: 'https://images.unsplash.com/photo-1590736704728-f4730bb30770?w=600', desc: 'Raw volcanic rock for a rugged, textured style.' },
            { id: 4, name: 'Leather Elite', price: 499, img: 'https://images.unsplash.com/photo-1523170335258-f5ed11844a49?w=600', desc: 'Braided leather with a high-grade magnetic clasp.' }
        ];

        let cart = [];
        let curID = null;

        // Render Grid
        const grid = document.getElementById('productGrid');
        products.forEach(p => {
            grid.innerHTML += `
                <div class="product-card p-4 flex flex-col" onclick="openProductPage(${p.id})">
                    <img src="${p.img}" class="w-full aspect-square object-cover mb-4 rounded">
                    <h3 class="font-semibold uppercase text-xs tracking-widest">${p.name}</h3>
                    <p class="gold-text font-bold">₹${p.price}</p>
                </div>`;
        });

        function toggleCart() { document.getElementById('cartSidebar').classList.toggle('cart-open'); }
        function openProductPage(id) {
            const p = products.find(x => x.id === id); curID = id;
            document.getElementById('pName').innerText = p.name;
            document.getElementById('pPrice').innerText = '₹' + p.price;
            document.getElementById('pDesc').innerText = p.desc;
            document.getElementById('mainImg').src = p.img;
            document.getElementById('productPage').classList.remove('hidden');
        }
        function closeProductPage() { document.getElementById('productPage').classList.add('hidden'); }
        function addCurrentToCart() { cart.push(products.find(x => x.id === curID)); updateCartUI(); closeProductPage(); toggleCart(); }

        function updateCartUI() {
            document.getElementById('cartCount').innerText = cart.length;
            const t = cart.reduce((s, i) => s + i.price, 0);
            document.getElementById('cartTotal').innerText = '₹' + t;
            document.getElementById('cartItems').innerHTML = cart.map((i, idx) => `
                <div class="flex justify-between items-center bg-zinc-900 p-3 rounded">
                    <span class="text-xs uppercase">${i.name}</span>
                    <button onclick="cart.splice(${idx},1); updateCartUI()" class="text-red-500">&times;</button>
                </div>`).join('');
        }

        function openCheckout() { document.getElementById('checkoutModal').classList.remove('hidden'); }
        function nextStep(n) { document.getElementById('step1Content').classList.add('hidden'); document.getElementById('step2Content').classList.remove('hidden'); }

        async function submitOrder() {
            const btn = document.getElementById('finalBtn');
            btn.innerText = "Processing..."; btn.disabled = true;

            const order = {
                name: document.getElementById('custName').value,
                phone: document.getElementById('custPhone').value,
                address: document.getElementById('custAddress').value,
                items: cart.map(i => i.name).join(','),
                total: cart.reduce((s, i) => s + i.price, 0),
                timestamp: new Date().toISOString()
            };

            try {
                // This sends it to the /orders node in your screenshot
                await database.ref('orders').push().set(order);
                alert("Order Placed Successfully!");
                location.reload();
            } catch (e) {
                alert("Error: " + e.message);
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>
